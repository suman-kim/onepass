var ip="xSueYB4eHh7iubs1WW2TeGv7cvPvmMMBsv+dxJbrGkgJ";var Aes={};Aes.cipher=function(input,w){var Nb=4;var Nr=w.length/Nb-1;var state=[[],[],[],[]];for(var i=0;i<4*Nb;i++){state[i%4][Math.floor(i/4)]=input[i]}state=Aes.addRoundKey(state,w,0,Nb);for(var round=1;round<Nr;round++){state=Aes.subBytes(state,Nb);state=Aes.shiftRows(state,Nb);state=Aes.mixColumns(state,Nb);state=Aes.addRoundKey(state,w,round,Nb)}state=Aes.subBytes(state,Nb);state=Aes.shiftRows(state,Nb);state=Aes.addRoundKey(state,w,Nr,Nb);var output=new Array(4*Nb);for(var i=0;i<4*Nb;i++){output[i]=state[i%4][Math.floor(i/4)]}return output};Aes.keyExpansion=function(key){var Nb=4;var Nk=key.length/4;var Nr=Nk+6;var w=new Array(Nb*(Nr+1));var temp=new Array(4);for(var i=0;i<Nk;i++){var r=[key[4*i],key[4*i+1],key[4*i+2],key[4*i+3]];w[i]=r}for(var i=Nk;i<(Nb*(Nr+1));i++){w[i]=new Array(4);for(var t=0;t<4;t++){temp[t]=w[i-1][t]}if(i%Nk==0){temp=Aes.subWord(Aes.rotWord(temp));for(var t=0;t<4;t++){temp[t]^=Aes.rCon[i/Nk][t]}}else if(Nk>6&&i%Nk==4){temp=Aes.subWord(temp)}for(var t=0;t<4;t++){w[i][t]=w[i-Nk][t]^temp[t]}}return w};Aes.subBytes=function(s,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){s[r][c]=Aes.sBox[s[r][c]]}}return s};Aes.shiftRows=function(s,Nb){var t=new Array(4);for(var r=1;r<4;r++){for(var c=0;c<4;c++){t[c]=s[r][(c+r)%Nb]}for(var c=0;c<4;c++){s[r][c]=t[c]}}return s};Aes.mixColumns=function(s,Nb){for(var c=0;c<4;c++){var a=new Array(4);var b=new Array(4);for(var i=0;i<4;i++){a[i]=s[i][c];b[i]=s[i][c]&0x80?s[i][c]<<1^0x011b:s[i][c]<<1}s[0][c]=b[0]^a[1]^b[1]^a[2]^a[3];s[1][c]=a[0]^b[1]^a[2]^b[2]^a[3];s[2][c]=a[0]^a[1]^b[2]^a[3]^b[3];s[3][c]=a[0]^b[0]^a[1]^a[2]^b[3]}return s};Aes.addRoundKey=function(state,w,rnd,Nb){for(var r=0;r<4;r++){for(var c=0;c<Nb;c++){state[r][c]^=w[rnd*4+c][r]}}return state};Aes.subWord=function(w){for(var i=0;i<4;i++){w[i]=Aes.sBox[w[i]]}return w};Aes.rotWord=function(w){var tmp=w[0];for(var i=0;i<3;i++){w[i]=w[i+1]}w[3]=tmp;return w};Aes.sBox=[0x63,0x7c,0x77,0x7b,0xf2,0x6b,0x6f,0xc5,0x30,0x01,0x67,0x2b,0xfe,0xd7,0xab,0x76,0xca,0x82,0xc9,0x7d,0xfa,0x59,0x47,0xf0,0xad,0xd4,0xa2,0xaf,0x9c,0xa4,0x72,0xc0,0xb7,0xfd,0x93,0x26,0x36,0x3f,0xf7,0xcc,0x34,0xa5,0xe5,0xf1,0x71,0xd8,0x31,0x15,0x04,0xc7,0x23,0xc3,0x18,0x96,0x05,0x9a,0x07,0x12,0x80,0xe2,0xeb,0x27,0xb2,0x75,0x09,0x83,0x2c,0x1a,0x1b,0x6e,0x5a,0xa0,0x52,0x3b,0xd6,0xb3,0x29,0xe3,0x2f,0x84,0x53,0xd1,0x00,0xed,0x20,0xfc,0xb1,0x5b,0x6a,0xcb,0xbe,0x39,0x4a,0x4c,0x58,0xcf,0xd0,0xef,0xaa,0xfb,0x43,0x4d,0x33,0x85,0x45,0xf9,0x02,0x7f,0x50,0x3c,0x9f,0xa8,0x51,0xa3,0x40,0x8f,0x92,0x9d,0x38,0xf5,0xbc,0xb6,0xda,0x21,0x10,0xff,0xf3,0xd2,0xcd,0x0c,0x13,0xec,0x5f,0x97,0x44,0x17,0xc4,0xa7,0x7e,0x3d,0x64,0x5d,0x19,0x73,0x60,0x81,0x4f,0xdc,0x22,0x2a,0x90,0x88,0x46,0xee,0xb8,0x14,0xde,0x5e,0x0b,0xdb,0xe0,0x32,0x3a,0x0a,0x49,0x06,0x24,0x5c,0xc2,0xd3,0xac,0x62,0x91,0x95,0xe4,0x79,0xe7,0xc8,0x37,0x6d,0x8d,0xd5,0x4e,0xa9,0x6c,0x56,0xf4,0xea,0x65,0x7a,0xae,0x08,0xba,0x78,0x25,0x2e,0x1c,0xa6,0xb4,0xc6,0xe8,0xdd,0x74,0x1f,0x4b,0xbd,0x8b,0x8a,0x70,0x3e,0xb5,0x66,0x48,0x03,0xf6,0x0e,0x61,0x35,0x57,0xb9,0x86,0xc1,0x1d,0x9e,0xe1,0xf8,0x98,0x11,0x69,0xd9,0x8e,0x94,0x9b,0x1e,0x87,0xe9,0xce,0x55,0x28,0xdf,0x8c,0xa1,0x89,0x0d,0xbf,0xe6,0x42,0x68,0x41,0x99,0x2d,0x0f,0xb0,0x54,0xbb,0x16];Aes.rCon=[[0x00,0x00,0x00,0x00],[0x01,0x00,0x00,0x00],[0x02,0x00,0x00,0x00],[0x04,0x00,0x00,0x00],[0x08,0x00,0x00,0x00],[0x10,0x00,0x00,0x00],[0x20,0x00,0x00,0x00],[0x40,0x00,0x00,0x00],[0x80,0x00,0x00,0x00],[0x1b,0x00,0x00,0x00],[0x36,0x00,0x00,0x00]];Aes.Ctr={};Aes.Ctr.encrypt=function(plaintext,password,nBits){var blockSize=16;if(!(nBits==128||nBits==192||nBits==256)){return''}plaintext=Utf8.encode(plaintext);password=Utf8.encode(password);var nBytes=nBits/8;var pwBytes=new Array(nBytes);for(var i=0;i<nBytes;i++){pwBytes[i]=isNaN(password.charCodeAt(i))?0:password.charCodeAt(i)}var key=Aes.cipher(pwBytes,Aes.keyExpansion(pwBytes));key=key.concat(key.slice(0,nBytes-16));var counterBlock=new Array(blockSize);var nonce=(new Date()).getTime();var nonceSec=Math.floor(nonce/1000);var nonceMs=nonce%1000;for(var i=0;i<4;i++){counterBlock[i]=(nonceSec>>>i*8)&0xff}for(var i=0;i<4;i++){counterBlock[i+4]=nonceMs&0xff}var ctrTxt='';for(var i=0;i<8;i++){ctrTxt+=String.fromCharCode(counterBlock[i])}var keySchedule=Aes.keyExpansion(key);var blockCount=Math.ceil(plaintext.length/blockSize);var ciphertxt=new Array(blockCount);for(var b=0;b<blockCount;b++){for(var c=0;c<4;c++){counterBlock[15-c]=(b>>>c*8)&0xff}for(var c=0;c<4;c++){counterBlock[15-c-4]=(b/0x100000000>>>c*8)}var cipherCntr=Aes.cipher(counterBlock,keySchedule);var blockLength=b<blockCount-1?blockSize:(plaintext.length-1)%blockSize+1;var cipherChar=new Array(blockLength);for(var i=0;i<blockLength;i++){cipherChar[i]=cipherCntr[i]^plaintext.charCodeAt(b*blockSize+i);cipherChar[i]=String.fromCharCode(cipherChar[i])}ciphertxt[b]=cipherChar.join('')}var ciphertext=ctrTxt+ciphertxt.join('');ciphertext=Base64.encode(ciphertext);return ciphertext};Aes.Ctr.decrypt=function(ciphertext,password,nBits){var blockSize=16;if(!(nBits==128||nBits==192||nBits==256)){return''}ciphertext=Base64.decode(ciphertext);password=Utf8.encode(password);var nBytes=nBits/8;var pwBytes=new Array(nBytes);for(var i=0;i<nBytes;i++){pwBytes[i]=isNaN(password.charCodeAt(i))?0:password.charCodeAt(i)}var key=Aes.cipher(pwBytes,Aes.keyExpansion(pwBytes));key=key.concat(key.slice(0,nBytes-16));var counterBlock=new Array(8);ctrTxt=ciphertext.slice(0,8);for(var i=0;i<8;i++){counterBlock[i]=ctrTxt.charCodeAt(i)}var keySchedule=Aes.keyExpansion(key);var nBlocks=Math.ceil((ciphertext.length-8)/blockSize);var ct=new Array(nBlocks);for(var b=0;b<nBlocks;b++){ct[b]=ciphertext.slice(8+b*blockSize,8+b*blockSize+blockSize)}ciphertext=ct;var plaintxt=new Array(ciphertext.length);for(var b=0;b<nBlocks;b++){for(var c=0;c<4;c++){counterBlock[15-c]=((b)>>>c*8)&0xff}for(var c=0;c<4;c++){counterBlock[15-c-4]=(((b+1)/0x100000000-1)>>>c*8)&0xff}var cipherCntr=Aes.cipher(counterBlock,keySchedule);var plaintxtByte=new Array(ciphertext[b].length);for(var i=0;i<ciphertext[b].length;i++){plaintxtByte[i]=cipherCntr[i]^ciphertext[b].charCodeAt(i);plaintxtByte[i]=String.fromCharCode(plaintxtByte[i])}plaintxt[b]=plaintxtByte.join('')}var plaintext=plaintxt.join('');plaintext=Utf8.decode(plaintext);return plaintext};var Base64={};Base64.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Base64.encode=function(str,utf8encode){utf8encode=(typeof utf8encode=='undefined')?false:utf8encode;var o1,o2,o3,bits,h1,h2,h3,h4,e=[],pad='',c,plain,coded;var b64=Base64.code;plain=utf8encode?str.encodeUTF8():str;c=plain.length%3;if(c>0){while(c++<3){pad+='=';plain+='\0'}}for(c=0;c<plain.length;c+=3){o1=plain.charCodeAt(c);o2=plain.charCodeAt(c+1);o3=plain.charCodeAt(c+2);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;e[c/3]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4)}coded=e.join('');coded=coded.slice(0,coded.length-pad.length)+pad;return coded};Base64.decode=function(str,utf8decode){utf8decode=(typeof utf8decode=='undefined')?false:utf8decode;var o1,o2,o3,h1,h2,h3,h4,bits,d=[],plain,coded;var b64=Base64.code;coded=utf8decode?str.decodeUTF8():str;for(var c=0;c<coded.length;c+=4){h1=b64.indexOf(coded.charAt(c));h2=b64.indexOf(coded.charAt(c+1));h3=b64.indexOf(coded.charAt(c+2));h4=b64.indexOf(coded.charAt(c+3));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>>16&0xff;o2=bits>>>8&0xff;o3=bits&0xff;d[c/4]=String.fromCharCode(o1,o2,o3);if(h4==0x40){d[c/4]=String.fromCharCode(o1,o2)}if(h3==0x40){d[c/4]=String.fromCharCode(o1)}}plain=d.join('');return utf8decode?plain.decodeUTF8():plain};var Utf8={};Utf8.encode=function(strUni){var strUtf=strUni.replace(/[\u0080-\u07ff]/g,function(c){var cc=c.charCodeAt(0);return String.fromCharCode(0xc0|cc>>6,0x80|cc&0x3f)});strUtf=strUtf.replace(/[\u0800-\uffff]/g,function(c){var cc=c.charCodeAt(0);return String.fromCharCode(0xe0|cc>>12,0x80|cc>>6&0x3F,0x80|cc&0x3f)});return strUtf};Utf8.decode=function(strUtf){var strUni=strUtf.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(c){var cc=((c.charCodeAt(0)&0x0f)<<12)|((c.charCodeAt(1)&0x3f)<<6)|(c.charCodeAt(2)&0x3f);return String.fromCharCode(cc)});strUni=strUni.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(c){var cc=(c.charCodeAt(0)&0x1f)<<6|c.charCodeAt(1)&0x3f;return String.fromCharCode(cc)});return strUni};function Encrypt(str,key){return Aes.Ctr.encrypt(str,key,256)}function Decrypt(str,key){return Aes.Ctr.decrypt(str,key,256)}ip=Decrypt(ip,"passwd",256);function go_user_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/users/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 사용자 유형을 삭제하였습니다.");parent.refresh('users');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('users');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/users/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 사용자 유형을 모두 삭제하였습니다.");parent.refresh('users');window.close()}}}function go_user_update(){var f=document.user_update_form;if(f.user_id.value==""){alert("ID를 입력해주세요.");f.user_id.focus();return}else if(f.user_name.value==""){alert("이름을 입력해주세요.");f.user_name.focus();return}else if(f.home_addr.value==""){alert("주소 입력해주세요.");f.home_addr.focus();return}else if(f.phone.value==""){alert("연락처를 입력해주세요.");f.phone.focus();return}else if(f.email.value==""){alert("이메일을 입력해주세요.");f.email.focus();return}else if(f.birthday.value==""){alert("생년월일을 입력해주세요.");f.birthday.focus();return}else if(f.join_company.value==""){alert("입사일 입력해주세요.");f.join_company.focus();return}else if(f.leave_company.value==""){alert("퇴사일을 입력해주세요.");f.leave_company.focus();return}else if(f.cardno_count.value==""){alert("카드개수 입력해주세요.");f.cardno_count.focus();return}else if(f.cardnos.value==""){alert("카드번호 목록을 입력해주세요.");f.cardnos.focus();return}else if(f.pin_num.value==""){alert("핀번호를 입력해주세요.");f.pin_num.focus();return}else if(f.pic_url.value==""){alert("사진주소를 입력해주세요.");f.pic_url.focus();return}else if(f.pic_size.value==""){alert("사진 크기를 입력해주세요.");f.pic_size.focus();return}else if(f.pic_data.value==""){alert("사진 DATA를 입력해주세요.");f.pic_data.focus();return}else if(f.finger_size1.value==""){alert("손가락 크기1을 입력해주세요.");f.finger_size1.focus();return}else if(f.finger_data1.value==""){alert("손가락 DATA1을 입력해주세요.");f.finger_data1.focus();return}else if(f.finger_size2.value==""){alert("손가락 크기2을 입력해주세요.");f.finger_size2.focus();return}else if(f.finger_data2.value==""){alert("손가락 DATA2을 입력해주세요.");f.finger_data2.focus();return}else if(f.is_timecard.value==""){alert("is_timecard를 입력해주세요.");f.is_timecard.focus();return}else if(f.timecard_rule_id.value==""){alert("timecard_rule_id를 입력해주세요.");f.timecard_rule_id.focus();return}else if(f.use_access_time.value==""){alert("인증 가능기간 설정 유무를 입력해주세요.");f.use_access_time.focus();return}else if(f.access_time_bez.value==""){alert("인증 시작일을 입력해주세요.");f.access_time_bez.focus();return}else if(f.access_time_end.value==""){alert("인증 종료일을 입력해주세요.");f.access_time_end.focus();return}else if(f.employee_no.value==""){alert("사원 NO를 입력해주세요.");f.employee_no.focus();return}else if(f.employee_code.value==""){alert("사원 코드를 입력해주세요.");f.employee_code.focus();return}else if(f.reply_to.value==""){alert("reply_to를 입력해주세요.");f.reply_to.focus();return}else if(f.reply_method.value==""){alert("reply_method를 입력해주세요.");f.reply_method.focus();return}else if(f.reply_msg.value==""){alert("reply_msg를 입력해주세요.");f.reply_msg.focus();return}var cardnos=Array();cardnos.push(f.cardnos.value);var du_info={"id":f.user_id.value,"name":f.user_name.value,"group_id":f.group_id.value,"job_position_id":f.job_position_id.value,"job_group_id":f.job_group_id.value,"access_id":f.access_id.value,"type_id":f.type_id.value,"private_info":{"home_addr":f.home_addr.value,"phone":f.phone.value,"email":f.email.value,"birthday":f.birthday.value,"join_company":f.join_company.value,"leave_company":f.leave_company.value},"secure_info":{"cardno_count":f.cardno_count.value,"cardno_list":cardnos,"pin_num":f.pin_num.value,"pic_url":f.pic_url.value,"pic_size":f.pic_size.value,"pic_data":f.pic_data.value,"finger_size1":f.finger_size1.value,"finger_data1":f.finger_data1.value,"finger_size2":f.finger_size2.value,"finger_data2":f.finger_data2.value,"is_timecard":f.is_timecard.value,"timecard_rule_id":f.timecard_rule_id.value,"use_access_time":f.use_access_time.value,"access_time_bez":f.access_time_bez.value,"access_time_end":f.access_time_end.value,"employee_no":f.employee_no.value,"employee_code":f.employee_code.value},"reply_info":{"reply_to":f.reply_to.value,"reply_method":f.reply_method.value,"reply_msg":f.reply_msg.value}};$.ajax({type:"PUT",url:ip+"/v1/users/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(du_info),success:function(data){console.log(data);if(data.error_code==1){alert("해당 사용자를 수정하였습니다.");opener.refresh('users');window.close()}else{alert("해당 사용자가 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_user_insert(){var f=document.user_insert_form;if(f.user_id.value==""){alert("ID를 입력해주세요.");f.user_id.focus();return}else if(f.user_name.value==""){alert("이름을 입력해주세요.");f.user_name.focus();return}else if(f.home_addr.value==""){alert("주소 입력해주세요.");f.home_addr.focus();return}else if(f.phone.value==""){alert("연락처를 입력해주세요.");f.phone.focus();return}else if(f.email.value==""){alert("이메일을 입력해주세요.");f.email.focus();return}else if(f.birthday.value==""){alert("생년월일을 입력해주세요.");f.birthday.focus();return}else if(f.join_company.value==""){alert("입사일 입력해주세요.");f.join_company.focus();return}else if(f.leave_company.value==""){alert("퇴사일을 입력해주세요.");f.leave_company.focus();return}else if(f.cardno_count.value==""){alert("카드개수 입력해주세요.");f.cardno_count.focus();return}else if(f.cardnos.value==""){alert("카드번호 목록을 입력해주세요.");f.cardnos.focus();return}else if(f.pin_num.value==""){alert("핀번호를 입력해주세요.");f.pin_num.focus();return}else if(f.pic_url.value==""){alert("사진주소를 입력해주세요.");f.pic_url.focus();return}else if(f.pic_size.value==""){alert("사진 크기를 입력해주세요.");f.pic_size.focus();return}else if(f.pic_data.value==""){alert("사진 DATA를 입력해주세요.");f.pic_data.focus();return}else if(f.finger_size1.value==""){alert("손가락 크기1을 입력해주세요.");f.finger_size1.focus();return}else if(f.finger_data1.value==""){alert("손가락 DATA1을 입력해주세요.");f.finger_data1.focus();return}else if(f.finger_size2.value==""){alert("손가락 크기2을 입력해주세요.");f.finger_size2.focus();return}else if(f.finger_data2.value==""){alert("손가락 DATA2을 입력해주세요.");f.finger_data2.focus();return}else if(f.is_timecard.value==""){alert("is_timecard를 입력해주세요.");f.is_timecard.focus();return}else if(f.timecard_rule_id.value==""){alert("timecard_rule_id를 입력해주세요.");f.timecard_rule_id.focus();return}else if(f.use_access_time.value==""){alert("인증 가능기간 설정 유무를 입력해주세요.");f.use_access_time.focus();return}else if(f.access_time_bez.value==""){alert("인증 시작일을 입력해주세요.");f.access_time_bez.focus();return}else if(f.access_time_end.value==""){alert("인증 종료일을 입력해주세요.");f.access_time_end.focus();return}else if(f.employee_no.value==""){alert("사원 NO를 입력해주세요.");f.employee_no.focus();return}else if(f.employee_code.value==""){alert("사원 코드를 입력해주세요.");f.employee_code.focus();return}else if(f.reply_to.value==""){alert("reply_to를 입력해주세요.");f.reply_to.focus();return}else if(f.reply_method.value==""){alert("reply_method를 입력해주세요.");f.reply_method.focus();return}else if(f.reply_msg.value==""){alert("reply_msg를 입력해주세요.");f.reply_msg.focus();return}var cardnos=Array();cardnos.push(f.cardnos.value);var du_info={"id":f.user_id.value,"name":f.user_name.value,"group_id":f.group_id.value,"job_position_id":f.job_position_id.value,"job_group_id":f.job_group_id.value,"access_id":f.access_id.value,"type_id":f.type_id.value,"private_info":{"home_addr":f.home_addr.value,"phone":f.phone.value,"email":f.email.value,"birthday":f.birthday.value,"join_company":f.join_company.value,"leave_company":f.leave_company.value},"secure_info":{"cardno_count":f.cardno_count.value,"cardno_list":cardnos,"pin_num":f.pin_num.value,"pic_url":f.pic_url.value,"pic_size":f.pic_size.value,"pic_data":f.pic_data.value,"finger_size1":f.finger_size1.value,"finger_data1":f.finger_data1.value,"finger_size2":f.finger_size2.value,"finger_data2":f.finger_data2.value,"is_timecard":f.is_timecard.value,"timecard_rule_id":f.timecard_rule_id.value,"use_access_time":f.use_access_time.value,"access_time_bez":f.access_time_bez.value,"access_time_end":f.access_time_end.value,"employee_no":f.employee_no.value,"employee_code":f.employee_code.value},"reply_info":{"reply_to":f.reply_to.value,"reply_method":f.reply_method.value,"reply_msg":f.reply_msg.value}};$.ajax({type:"POST",url:ip+"/v1/users",dataType:'json',contentType:'application/json',data:JSON.stringify(du_info),success:function(data){console.log(data);if(data.error_code==1){alert("사용자를 추가하였습니다.");opener.refresh('users');window.close()}else{alert("사용자가 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_server_user_permit_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/server/user-rights/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 서버 사용자 권한을 삭제하였습니다.");parent.refresh('server-user-permit');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('server-user-permit');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/server/user-rights/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 서버 사용자 권한을 모두 삭제하였습니다.");parent.refresh('server-user-permit');window.close()}else if(j>0){alert("선택된 서버 사용자 권한을 일부만 삭제하였습니다.");parent.refresh('server-user-permit');window.close()}else{alert("선택된 서버 사용자 권한을 삭제하지 못했습니다.");parent.refresh('server-user-permit');window.close()}}}function go_server_user_permit_update(){var f=document.server_user_permit_update_form;if(f.permit_name.value==""){alert("서버 사용자 권한 이름을 입력해주세요.");f.permit_name.focus();return}else if(f.major.value==""){alert("Major를 입력해주세요.");f.major.focus();return}else if(f.minor.value==""){alert("Minor를 입력해주세요.");f.minor.focus();return}var permit_info={"name":f.permit_name.value,"major":f.major.value,"minor":f.minor.value};$.ajax({type:"PUT",url:ip+"/v1/server/user-rights/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(permit_info),success:function(data){console.log(data);if(data.error_code==1){alert("서버 사용자 권한을 수정하였습니다.");opener.refresh('server-user-permit');window.close()}else{alert("서버 사용자 권한이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_server_user_permit_insert(){var f=document.server_user_permit_insert_form;if(f.permit_name.value==""){alert("서버 사용자 권한 이름을 입력해주세요.");f.permit_name.focus();return}else if(f.major.value==""){alert("Major를 입력해주세요.");f.major.focus();return}else if(f.minor.value==""){alert("Minor를 입력해주세요.");f.minor.focus();return}var permit_info={"name":f.permit_name.value,"major":f.major.value,"minor":f.minor.value};$.ajax({type:"POST",url:ip+"/v1/server/user-rights",dataType:'json',contentType:'application/json',data:JSON.stringify(permit_info),success:function(data){console.log(data.error_msg_detail);console.log(data);if(data.error_code==1){alert("서버 사용자 권한을 추가하였습니다.");opener.refresh('server-user-permit');window.close()}else{alert("서버 사용자 권한이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function server_users_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/server/users/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 서버 사용자를 삭제하였습니다.");parent.refresh('server-users');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('server-users');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/server/users/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 서버 사용자를 모두 삭제하였습니다.");parent.refresh('server-users');window.close()}else if(j>0){alert("선택된 서버 사용자를 일부만 삭제하였습니다.");parent.refresh('server-users');window.close()}else{alert("선택된 서버 사용자를 삭제하지 못했습니다.");parent.refresh('server-users');window.close()}}}function go_server_user_update(){var f=document.server_user_update_form;if(f.server_user_name.value==""){alert("서버 사용자 이름을 입력해주세요.");f.server_user_name.focus();return}else if(f.login_id.value==""){alert("ID를 입력해주세요.");f.login_id.focus();return}else if(f.login_pw.value==""){alert("Password를 입력해주세요.");f.login_pw.focus();return}var user_info={"name":f.server_user_name.value,"login_id":f.login_id.value,"login_pw":f.login_pw.value,"type_id":f.type_id.value,"permit_id":f.permit_id.value};$.ajax({type:"PUT",url:ip+"/v1/server/users/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(user_info),success:function(data){console.log(data);if(data.error_code==1){alert("서버 사용자를 수정하였습니다.");opener.refresh('server-users');window.close()}else{alert("서버 사용자가 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_server_user_insert(){var f=document.server_user_insert_form;if(f.server_user_name.value==""){alert("서버 사용자 이름을 입력해주세요.");f.server_user_name.focus();return}else if(f.login_id.value==""){alert("ID를 입력해주세요.");f.login_id.focus();return}else if(f.login_pw.value==""){alert("Password를 입력해주세요.");f.login_pw.focus();return}var user_info={"name":f.server_user_name.value,"login_id":f.login_id.value,"login_pw":f.login_pw.value,"type_id":f.type_id.value,"permit_id":f.permit_id.value};$.ajax({type:"POST",url:ip+"/v1/server/users",dataType:'json',contentType:'application/json',data:JSON.stringify(user_info),success:function(data){console.log(data);if(data.error_code==1){alert("서버 사용자를 추가하였습니다.");opener.refresh('server-users');window.close()}else{alert("서버 사용자가 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function server_user_type_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/server/user-types/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 사용자 유형을 삭제하였습니다.");parent.refresh('server-user-type');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('server-user-type');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/server/user-types/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 사용자 유형을 모두 삭제하였습니다.");parent.refresh('server-user-type');window.close()}else if(j>0){alert("선택된 사용자 유형을 일부만 삭제하였습니다.");parent.refresh('server-user-type');window.close()}else{alert("선택된 사용자 유형을 삭제하지 못했습니다.");parent.refresh('server-user-type');window.close()}}}function go_server_user_type_update(){var f=document.type_update_form;if(f.type_name.value==""){alert("서버 사용자 유형 이름을 입력해주세요.");f.type_name.focus();return}var type_info={"name":f.type_name.value};$.ajax({type:"PUT",url:ip+"/v1/server/user-types/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(type_info),success:function(data){if(data.error_code==1){alert("사용자 유형을 수정하였습니다.");opener.refresh('server-user-type');window.close()}else{alert("사용자 유형이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function server_user_type_update_info(){$.ajax({type:"GET",url:ip+"/v1/server/user-types/"+id,dataType:'json',contentType:'application/json',success:function(data){console.log(data);if(data.error_code==0){$("#type_name").val(data.type_info.name)}else{alert("해당 ID를 찾지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_server_user_type_insert(){var f=document.type_insert_form;if(f.type_name.value==""){alert("서버 사용자 유형 이름을 입력해주세요.");f.type_name.focus();return}var type_info={"name":f.type_name.value};$.ajax({type:"POST",url:ip+"/v1/server/user-types",dataType:'json',contentType:'application/json',data:JSON.stringify(type_info),success:function(data){if(data.error_code==1){alert("서버 사용자 유형을 추가하였습니다.");opener.refresh('server-user-type');window.close()}else{alert("서버 사용자 유형이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_acc_group_update(){var f=document.access_group_update_form;if(f.access_name.value==""){alert("출입 그룹 이름을 입력해주세요.");f.access_name.focus();return}else if(f.bez_date.value==""){alert("출입 그룹 시작 시간을 입력해주세요.");f.bez_date.focus();return}else if(f.end_date.value==""){alert("출입 그룹 종료 시간을 입력해주세요.");f.end_date.focus();return}var arr_device_ids=new Array();var device_ids=document.getElementsByName("device_ids");var device_ids_cnt=device_ids.length;for(let i=0;i<device_ids_cnt;i++){if(device_ids[i].checked==true){arr_device_ids.push(device_ids[i].value)}}var acc_group_info={"name":f.access_name.value,"bez_date":f.bez_date.value,"end_date":f.end_date.value,"device_ids":arr_device_ids,"acc_time_group_id":f.acc_time_group_id.value};console.log(acc_group_info);$.ajax({type:"PUT",url:ip+"/v1/access-groups/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(acc_group_info),success:function(data){console.log(data);if(data.error_code==1){alert("출입 그룹을 수정하였습니다.");opener.refresh('access-group');window.close()}else{alert("출입 그룹을 수정하지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function access_group_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/access-groups/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 출입 그룹을 삭제하였습니다.");parent.refresh('access-group');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('access-group');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/access-groups/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 출입 그룹을 모두 삭제하였습니다.");parent.refresh('access-group');window.close()}else if(j>0){alert("선택된 출입 그룹을 일부만 삭제하였습니다.");parent.refresh('access-group');window.close()}else{alert("선택된 출입 그룹을 삭제하지 못했습니다.");parent.refresh('access-group');window.close()}}}function acc_group_update_info(){var device_ids=new Array();var acc_time_group_id;$.ajax({type:"GET",url:ip+"/v1/access-groups/"+id,dataType:'json',contentType:'application/json',async:false,success:function(data){$("#access_name").val(data.access_group_info.name);$("#bez_date").val(data.access_group_info.bez_date);$("#end_date").val(data.access_group_info.end_date);device_ids=data.access_group_info.device_ids;acc_time_group_id=data.access_group_info.acc_time_group_id},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}});$.ajax({type:"GET",url:ip+"/v1/devices",dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){let totalRows=data.device_count;for(let i=0;i<totalRows;i++){let str_checked=(device_ids.includes(String(data.device_infos[i].id)))?"checked":"";let str='<label style="margin-right: 2rem;"><input type="checkbox" id="device_ids[]" name="device_ids" style="width: 20px; height: 12px;" value="'+data.device_infos[i].id+'" '+str_checked+'><span>'+data.device_infos[i].product_info.model_name+'</span></label>';$("#device-ids").append(str)}}else{console.log("5-1-5. /v1/devices (err)")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}});$.ajax({type:"GET",url:ip+"/v1/access-time-groups",dataType:'json',contentType:'application/json',async:false,success:function(data){let totalRows=data.access_time_group_infos.length;for(let i=0;i<totalRows;i++){let str_selected=(acc_time_group_id==data.access_time_group_infos[i].id)?"selected":"";let str='<option value="'+data.access_time_group_infos[i].id+'" '+str_selected+'>'+data.access_time_group_infos[i].name+'</option>';$("#acc_time_group_id").append(str)}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_acc_group_insert(){var f=document.access_insert_form;if(f.access_name.value==""){alert("출입 그룹 이름을 입력해주세요.");f.access_name.focus();return}else if(f.bez_date.value==""){alert("출입 그룹 시작 시간을 입력해주세요.");f.bez_date.focus();return}else if(f.end_date.value==""){alert("출입 그룹 종료 시간을 입력해주세요.");f.end_date.focus();return}var arr_device_ids=new Array();var device_ids=document.getElementsByName("device_ids");var device_ids_cnt=device_ids.length;for(let i=0;i<device_ids_cnt;i++){if(device_ids[i].checked==true){arr_device_ids.push(device_ids[i].value)}}var acc_group_info={"name":f.access_name.value,"bez_date":f.bez_date.value,"end_date":f.end_date.value,"device_ids":arr_device_ids,"acc_time_group_id":f.acc_time_group_id.value};$.ajax({type:"POST",url:ip+"/v1/access-groups",dataType:'json',contentType:'application/json',data:JSON.stringify(acc_group_info),success:function(data){console.log(data);if(data.error_code==1){alert("출입 그룹을 추가하였습니다.");opener.refresh('access-group');window.close()}else{alert("출입 그룹이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_user_type_update(){var f=document.type_update_form;if(f.type_name.value==""){alert("Type Name을 입력해주세요.");f.type_name.focus();return}else if(f.level.value==""){alert("Level을 입력해주세요.");f.level.focus();return}var du_type_info={"name":f.type_name.value,"level":f.level.value,"is_admin":f.is_admin.value};$.ajax({type:"PUT",url:ip+"/v1/user-types/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(du_type_info),success:function(data){if(data.error_code==1){alert("사용자 유형을 수정하였습니다.");opener.refresh('user-type');window.close()}else{alert("사용자 유형이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function user_type_update_info(){$.ajax({type:"GET",url:ip+"/v1/user-types/"+id,dataType:'json',contentType:'application/json',success:function(data){console.log(data);if(data.error_code==1){$("#type_name").val(data.du_type_info.name);$("#level").val(data.du_type_info.level);if(data.du_type_info.is_admin){$("#is_admin option[value='True']").attr("selected","selected")}else{$("#is_admin option[value='False']").attr("selected","selected")}}else{alert("해당 ID를 찾지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_user_type_insert(){var f=document.type_insert_form;if(f.type_name.value==""){alert("Type Name을 입력해주세요.");f.type_name.focus();return}else if(f.level.value==""){alert("Level을 입력해주세요.");f.level.focus();return}var du_type_info={"name":f.type_name.value,"level":f.level.value,"is_admin":f.is_admin.value};$.ajax({type:"POST",url:ip+"/v1/user-types",dataType:'json',contentType:'application/json',data:JSON.stringify(du_type_info),success:function(data){if(data.error_code==1){alert("사용자 유형을 추가하였습니다.");opener.refresh('user-type');window.close()}else{alert("사용자 유형이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function user_type_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/user-types/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 사용자 유형을 삭제하였습니다.");parent.refresh('user-type');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('user-type');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/user-types/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 사용자 유형을 모두 삭제하였습니다.");parent.refresh('user-type');window.close()}else if(j>0){alert("선택된 사용자 유형을 일부만 삭제하였습니다.");parent.refresh('user-type');window.close()}else{alert("선택된 사용자 유형을 삭제하지 못했습니다.");parent.refresh('user-type');window.close()}}}function go_user_job_position_insert(){var f=document.job_positions_insert_form;if(f.job_positions_name.value==""){alert("Job Position Name을 입력해주세요.");f.job_positions_name.focus();return}var du_job_position_info={"name":f.job_positions_name.value};$.ajax({type:"POST",url:ip+"/v1/job-positions",dataType:'json',contentType:'application/json',data:JSON.stringify(du_job_position_info),success:function(data){if(data.error_code==1){alert("사용자 직급을 추가하였습니다.");opener.refresh('user-job-positions');window.close()}else{alert("사용자 직급이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function user_job_position_update_info(){$.ajax({type:"GET",url:ip+"/v1/job-positions/"+id,dataType:'json',contentType:'application/json',success:function(data){console.log(data);if(data.error_code==1){$("#job_positions_name").val(data.du_job_position_info.name)}else{alert("해당 ID를 찾지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_user_job_position_update(){var f=document.job_positions_update_form;if(f.job_positions_name.value==""){alert("Job Position Name을 입력해주세요.");f.job_positions_name.focus();return}var du_job_position_info={"name":f.job_positions_name.value};$.ajax({type:"PUT",url:ip+"/v1/job-positions/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(du_job_position_info),success:function(data){if(data.error_code==1){alert("사용자 유형을 수정하였습니다.");opener.refresh('user-job-positions');window.close()}else{alert("사용자 유형이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function user_job_position_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/job-positions/"+id,dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){alert("해당 사용자 직급을 삭제하였습니다.");parent.refresh('user-job-positions');window.close()}else{alert("삭제하지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/job-positions/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 사용자 직급을 모두 삭제하였습니다.");parent.refresh('user-job-positions');window.close()}else if(j>0){alert("선택된 사용자 직급을 일부만 삭제하였습니다.");parent.refresh('user-job-positions');window.close()}else{alert("선택된 사용자 직급을 삭제하지 못했습니다.");parent.refresh('user-job-positions');window.close()}}}function go_user_job_group_update(){var f=document.job_groups_update_form;if(f.job_groups_name.value==""){alert("Job Groups Name을 입력해주세요.");f.job_groups_name.focus();return}var du_job_group_info={"name":f.job_groups_name.value};$.ajax({type:"PUT",url:ip+"/v1/job-groups/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(du_job_group_info),success:function(data){if(data.error_code==1){alert("사용자 유형을 수정하였습니다.");opener.refresh('user-job-groups');window.close()}else{alert("사용자 유형이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function user_job_group_update_info(){$.ajax({type:"GET",url:ip+"/v1/job-groups/"+id,dataType:'json',contentType:'application/json',success:function(data){console.log(data);if(data.error_code==1){$("#job_groups_name").val(data.du_job_group_info.name)}else{alert("해당 ID를 찾지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_user_job_group_insert(){var f=document.job_groups_insert_form;if(f.job_groups_name.value==""){alert("Job Groups Name을 입력해주세요.");f.job_groups_name.focus();return}var du_job_group_info={"name":f.job_groups_name.value};$.ajax({type:"POST",url:ip+"/v1/job-groups",dataType:'json',contentType:'application/json',data:JSON.stringify(du_job_group_info),success:function(data){if(data.error_code==1){alert("사용자 직군을 추가하였습니다.");opener.refresh('user-job-groups');window.close()}else{alert("사용자 직군이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function user_job_group_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/job-groups/"+id,dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){alert("해당 사용자 직군을 삭제하였습니다.");parent.refresh('user-job-groups');window.close()}else{alert("삭제하지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/job-groups/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 사용자 직군을 모두 삭제하였습니다.");parent.refresh('user-job-groups');window.close()}else if(j>0){alert("선택된 사용자 직군을 일부만 삭제하였습니다.");parent.refresh('user-job-groups');window.close()}else{alert("선택된 사용자 직군을 삭제하지 못했습니다.");parent.refresh('user-job-groups');window.close()}}}function go_user_group_update(){var f=document.group_update_form;if(f.group_name.value==""){alert("Group Name을 입력해주세요.");f.group_name.focus();return}else if(f.parent_id.value==""){alert("Parent Id를 입력해주세요.");f.parent_id.focus();return}var du_groupinfo={"name":f.group_name.value,"parent_id":f.parent_id.value};$.ajax({type:"PUT",url:ip+"/v1/user-groups/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(du_groupinfo),success:function(data){if(data.error_code==1){alert("사용자 그룹을 수정하였습니다.");opener.refresh('user-groups');window.close()}else{alert("사용자 그룹이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function user_group_update_info(){$.ajax({type:"GET",url:ip+"/v1/user-groups/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){$("#group_name").val(data.du_group_info.name);$("#parent_id").val(data.du_group_info.parent_id)}else{alert("해당 ID를 찾지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_user_group_insert(){var f=document.group_insert_form;if(f.group_name.value==""){alert("Group Name을 입력해주세요.");f.group_name.focus();return}else if(f.parent_id.value==""){alert("Parent Id를 입력해주세요.");f.parent_id.focus();return}var du_groupinfo={"name":f.group_name.value,"parent_id":f.parent_id.value};$.ajax({type:"POST",url:ip+"/v1/user-groups",dataType:'json',contentType:'application/json',data:JSON.stringify(du_groupinfo),success:function(data){if(data.error_code==1){alert("사용자 그룹을 추가하였습니다.");opener.refresh('user-groups');window.close()}else{alert("사용자 그룹이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function user_group_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/user-groups/"+id,dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){alert("해당 사용자 그룹을 삭제하였습니다.");parent.refresh('user-groups');window.close()}else{alert("삭제하지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/user-groups/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 사용자 그룹을 모두 삭제하였습니다.");parent.refresh('user-groups');window.close()}else if(j>0){alert("선택된 사용자 그룹을 일부만 삭제하였습니다.");parent.refresh('user-groups');window.close()}else{alert("선택된 사용자 그룹을 삭제하지 못했습니다.");parent.refresh('user-groups');window.close()}}}function go_device_update(){var f=document.type_update_form;if(f.type_name.value==""){alert("Type Name을 입력해주세요.");f.type_name.focus();return}else if(f.level.value==""){alert("Level을 입력해주세요.");f.level.focus();return}var du_type_info={"name":f.type_name.value,"level":f.level.value,"is_admin":f.is_admin.value};$.ajax({type:"PUT",url:ip+"/v1/user-types/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(du_type_info),success:function(data){if(data.error_code==1){alert("사용자 유형을 수정하였습니다.");opener.refresh('devices');window.close()}else{alert("사용자 유형이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function device_update_info(){$.ajax({type:"GET",url:ip+"/v1/user-types/"+id,dataType:'json',contentType:'application/json',success:function(data){console.log(data);if(data.error_code==1){$("#type_name").val(data.du_type_info.name);$("#level").val(data.du_type_info.level);if(data.du_type_info.is_admin){$("#is_admin option[value='True']").attr("selected","selected")}else{$("#is_admin option[value='False']").attr("selected","selected")}}else{alert("해당 ID를 찾지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_device_insert(){var f=document.user_insert_form;if(f.type_name.value==""){alert("Type Name을 입력해주세요.");f.type_name.focus();return}else if(f.level.value==""){alert("Level을 입력해주세요.");f.level.focus();return}var du_type_info={"name":f.type_name.value,"level":f.level.value,"is_admin":f.is_admin.value};$.ajax({type:"POST",url:ip+"/v1/user-types",dataType:'json',contentType:'application/json',data:JSON.stringify(du_type_info),success:function(data){if(data.error_code==1){alert("사용자 유형을 추가하였습니다.");opener.refresh('devices');window.close()}else{alert("사용자 유형이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function device_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/user-types/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 사용자 유형을 삭제하였습니다.");parent.refresh('devices');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('devices');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/user-types/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 단말기를 모두 삭제하였습니다.");parent.refresh('devices');window.close()}else if(j>0){alert("선택된 단말기를 일부만 삭제하였습니다.");parent.refresh('devices');window.close()}else{alert("선택된 단말기를 삭제하지 못했습니다.");parent.refresh('devices');window.close()}}}function go_device_group_update(){var f=document.group_update_form;if(f.group_name.value==""){alert("Group Name을 입력해주세요.");f.group_name.focus();return}else if(f.parent_id.value==""){alert("Parent Id를 입력해주세요.");f.parent_id.focus();return}var du_groupinfo={"name":f.group_name.value,"parent_id":f.parent_id.value};$.ajax({type:"PUT",url:ip+"/v1/device-groups/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(du_groupinfo),success:function(data){if(data.error_code==1){alert("단말기 그룹을 수정하였습니다.");opener.refresh('device-groups');window.close()}else{alert("단말기 그룹이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function device_group_update_info(){$.ajax({type:"GET",url:ip+"/v1/device-groups/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){$("#group_name").val(data.d_group_info.name);$("#parent_id").val(data.d_group_info.parent_id)}else{alert("해당 단말기 ID를 찾지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_device_group_insert(){var f=document.group_insert_form;if(f.group_name.value==""){alert("Group Name을 입력해주세요.");f.group_name.focus();return}else if(f.parent_id.value==""){alert("Parent Id를 입력해주세요.");f.parent_id.focus();return}var du_group_info={"name":f.group_name.value,"parent_id":f.parent_id.value};$.ajax({type:"POST",url:ip+"/v1/device-groups",dataType:'json',contentType:'application/json',data:JSON.stringify(du_group_info),success:function(data){if(data.error_code==1){alert("사용자 그룹을 추가하였습니다.");opener.refresh('device-groups');window.close()}else{alert("사용자 그룹이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function device_group_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/device-groups/"+id,dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){alert("해당 단말기 그룹을 삭제하였습니다.");parent.refresh('device-groups');window.close()}else{alert("삭제하지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/device-groups/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 단말기 그룹을 모두 삭제하였습니다.");parent.refresh('device-groups');window.close()}else if(j>0){alert("선택된 단말기 그룹을 일부만 삭제하였습니다.");parent.refresh('device-groups');window.close()}else{alert("선택된 단말기 그룹을 삭제하지 못했습니다.");parent.refresh('device-groups');window.close()}}}function acc_week_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/access-weeks/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 주간 일정을 삭제하였습니다.");parent.refresh('access-week');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('access-week');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/access-weeks/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 주간 일정을 모두 삭제하였습니다.");parent.refresh('access-week');window.close()}else if(j>0){alert("선택된 주간 일정을 일부만 삭제하였습니다.");parent.refresh('access-week');window.close()}else{alert("선택된 주간 일정을 삭제하지 못했습니다.");parent.refresh('access-week');window.close()}}}function go_acc_week_insert(){var f=document.acc_week_insert_form;if(f.access_week_name.value==""){alert("출입 시간 그룹 이름을 입력해주세요.");f.access_week_name.focus();return}var mon_time_1=(Number(f.mon_time_1_start.value)<<16)+Number(f.mon_time_1_end.value);var mon_time_2=(Number(f.mon_time_2_start.value)<<16)+Number(f.mon_time_2_end.value);var mon_time_3=(Number(f.mon_time_3_start.value)<<16)+Number(f.mon_time_3_end.value);var mon_time_4=(Number(f.mon_time_4_start.value)<<16)+Number(f.mon_time_4_end.value);var tue_time_1=(Number(f.tue_time_1_start.value)<<16)+Number(f.tue_time_1_end.value);var tue_time_2=(Number(f.tue_time_2_start.value)<<16)+Number(f.tue_time_2_end.value);var tue_time_3=(Number(f.tue_time_3_start.value)<<16)+Number(f.tue_time_3_end.value);var tue_time_4=(Number(f.tue_time_4_start.value)<<16)+Number(f.tue_time_4_end.value);var wed_time_1=(Number(f.wed_time_1_start.value)<<16)+Number(f.wed_time_1_end.value);var wed_time_2=(Number(f.wed_time_2_start.value)<<16)+Number(f.wed_time_2_end.value);var wed_time_3=(Number(f.wed_time_3_start.value)<<16)+Number(f.wed_time_3_end.value);var wed_time_4=(Number(f.wed_time_4_start.value)<<16)+Number(f.wed_time_4_end.value);var thu_time_1=(Number(f.thu_time_1_start.value)<<16)+Number(f.thu_time_1_end.value);var thu_time_2=(Number(f.thu_time_2_start.value)<<16)+Number(f.thu_time_2_end.value);var thu_time_3=(Number(f.thu_time_3_start.value)<<16)+Number(f.thu_time_3_end.value);var thu_time_4=(Number(f.thu_time_4_start.value)<<16)+Number(f.thu_time_4_end.value);var fri_time_1=(Number(f.fri_time_1_start.value)<<16)+Number(f.fri_time_1_end.value);var fri_time_2=(Number(f.fri_time_2_start.value)<<16)+Number(f.fri_time_2_end.value);var fri_time_3=(Number(f.fri_time_3_start.value)<<16)+Number(f.fri_time_3_end.value);var fri_time_4=(Number(f.fri_time_4_start.value)<<16)+Number(f.fri_time_4_end.value);var sat_time_1=(Number(f.sat_time_1_start.value)<<16)+Number(f.sat_time_1_end.value);var sat_time_2=(Number(f.sat_time_2_start.value)<<16)+Number(f.sat_time_2_end.value);var sat_time_3=(Number(f.sat_time_3_start.value)<<16)+Number(f.sat_time_3_end.value);var sat_time_4=(Number(f.sat_time_4_start.value)<<16)+Number(f.sat_time_4_end.value);var sun_time_1=(Number(f.sun_time_1_start.value)<<16)+Number(f.sun_time_1_end.value);var sun_time_2=(Number(f.sun_time_2_start.value)<<16)+Number(f.sun_time_2_end.value);var sun_time_3=(Number(f.sun_time_3_start.value)<<16)+Number(f.sun_time_3_end.value);var sun_time_4=(Number(f.sun_time_4_start.value)<<16)+Number(f.sun_time_4_end.value);var access_week_info={"name":f.access_week_name.value,"mon_time_1":mon_time_1,"mon_time_2":mon_time_2,"mon_time_3":mon_time_3,"mon_time_4":mon_time_4,"tue_time_1":tue_time_1,"tue_time_2":tue_time_2,"tue_time_3":tue_time_3,"tue_time_4":tue_time_4,"wed_time_1":wed_time_1,"wed_time_2":wed_time_2,"wed_time_3":wed_time_3,"wed_time_4":wed_time_4,"thu_time_1":thu_time_1,"thu_time_2":thu_time_2,"thu_time_3":thu_time_3,"thu_time_4":thu_time_4,"fri_time_1":fri_time_1,"fri_time_2":fri_time_2,"fri_time_3":fri_time_3,"fri_time_4":fri_time_4,"sat_time_1":sat_time_1,"sat_time_2":sat_time_2,"sat_time_3":sat_time_3,"sat_time_4":sat_time_4,"sun_time_1":sun_time_1,"sun_time_2":sun_time_2,"sun_time_3":sun_time_3,"sun_time_4":sun_time_4};parent.hiddenfrm;$.ajax({type:"POST",url:ip+"/v1/access-weeks",dataType:'json',contentType:'application/json',data:JSON.stringify(access_week_info),success:function(data){if(data.error_code==1){alert("주간 일정을 추가하였습니다.");opener.refresh('access-week');window.close()}else{alert("주간 일정이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_acc_week_update(){var f=document.acc_week_insert_form;if(f.access_week_name.value==""){alert("출입 시간 그룹 이름을 입력해주세요.");f.access_week_name.focus();return}let mon_time_1=(Number(f.mon_time_1_start.value)<<16)+Number(f.mon_time_1_end.value);let mon_time_2=(Number(f.mon_time_2_start.value)<<16)+Number(f.mon_time_2_end.value);let mon_time_3=(Number(f.mon_time_3_start.value)<<16)+Number(f.mon_time_3_end.value);let mon_time_4=(Number(f.mon_time_4_start.value)<<16)+Number(f.mon_time_4_end.value);let tue_time_1=(Number(f.tue_time_1_start.value)<<16)+Number(f.tue_time_1_end.value);let tue_time_2=(Number(f.tue_time_2_start.value)<<16)+Number(f.tue_time_2_end.value);let tue_time_3=(Number(f.tue_time_3_start.value)<<16)+Number(f.tue_time_3_end.value);let tue_time_4=(Number(f.tue_time_4_start.value)<<16)+Number(f.tue_time_4_end.value);let wed_time_1=(Number(f.wed_time_1_start.value)<<16)+Number(f.wed_time_1_end.value);let wed_time_2=(Number(f.wed_time_2_start.value)<<16)+Number(f.wed_time_2_end.value);let wed_time_3=(Number(f.wed_time_3_start.value)<<16)+Number(f.wed_time_3_end.value);let wed_time_4=(Number(f.wed_time_4_start.value)<<16)+Number(f.wed_time_4_end.value);let thu_time_1=(Number(f.thu_time_1_start.value)<<16)+Number(f.thu_time_1_end.value);let thu_time_2=(Number(f.thu_time_2_start.value)<<16)+Number(f.thu_time_2_end.value);let thu_time_3=(Number(f.thu_time_3_start.value)<<16)+Number(f.thu_time_3_end.value);let thu_time_4=(Number(f.thu_time_4_start.value)<<16)+Number(f.thu_time_4_end.value);let fri_time_1=(Number(f.fri_time_1_start.value)<<16)+Number(f.fri_time_1_end.value);let fri_time_2=(Number(f.fri_time_2_start.value)<<16)+Number(f.fri_time_2_end.value);let fri_time_3=(Number(f.fri_time_3_start.value)<<16)+Number(f.fri_time_3_end.value);let fri_time_4=(Number(f.fri_time_4_start.value)<<16)+Number(f.fri_time_4_end.value);let sat_time_1=(Number(f.sat_time_1_start.value)<<16)+Number(f.sat_time_1_end.value);let sat_time_2=(Number(f.sat_time_2_start.value)<<16)+Number(f.sat_time_2_end.value);let sat_time_3=(Number(f.sat_time_3_start.value)<<16)+Number(f.sat_time_3_end.value);let sat_time_4=(Number(f.sat_time_4_start.value)<<16)+Number(f.sat_time_4_end.value);let sun_time_1=(Number(f.sun_time_1_start.value)<<16)+Number(f.sun_time_1_end.value);let sun_time_2=(Number(f.sun_time_2_start.value)<<16)+Number(f.sun_time_2_end.value);let sun_time_3=(Number(f.sun_time_3_start.value)<<16)+Number(f.sun_time_3_end.value);let sun_time_4=(Number(f.sun_time_4_start.value)<<16)+Number(f.sun_time_4_end.value);let access_week_info={"name":f.access_week_name.value,"mon_time_1":mon_time_1,"mon_time_2":mon_time_2,"mon_time_3":mon_time_3,"mon_time_4":mon_time_4,"tue_time_1":tue_time_1,"tue_time_2":tue_time_2,"tue_time_3":tue_time_3,"tue_time_4":tue_time_4,"wed_time_1":wed_time_1,"wed_time_2":wed_time_2,"wed_time_3":wed_time_3,"wed_time_4":wed_time_4,"thu_time_1":thu_time_1,"thu_time_2":thu_time_2,"thu_time_3":thu_time_3,"thu_time_4":thu_time_4,"fri_time_1":fri_time_1,"fri_time_2":fri_time_2,"fri_time_3":fri_time_3,"fri_time_4":fri_time_4,"sat_time_1":sat_time_1,"sat_time_2":sat_time_2,"sat_time_3":sat_time_3,"sat_time_4":sat_time_4,"sun_time_1":sun_time_1,"sun_time_2":sun_time_2,"sun_time_3":sun_time_3,"sun_time_4":sun_time_4};$.ajax({type:"PUT",url:ip+"/v1/access-weeks/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(access_week_info),success:function(data){console.log(data);if(data.error_code==1){alert("주간 일정을 수정하였습니다.");opener.refresh('access-week');window.close()}else{alert("주간 일정이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function acc_time_group_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/access-time-groups/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 출입 시간 그룹을 삭제하였습니다.");parent.refresh('access-time-group');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('access-time-group');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/access-time-groups/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 출입 시간 그룹을 모두 삭제하였습니다.");parent.refresh('access-time-group');window.close()}else if(j>0){alert("선택된 출입 시간 그룹을 일부만 삭제하였습니다.");parent.refresh('access-time-group');window.close()}else{alert("선택된 출입 시간 그룹을 삭제하지 못했습니다.");parent.refresh('access-time-group');window.close()}}}function go_acc_time_group_insert(){var f=document.acc_time_group_insert_form;if(f.access_time_group_name.value==""){alert("출입 시간 그룹 이름을 입력해주세요.");f.access_time_group_name.focus();return}var access_time_group_info={"name":f.access_time_group_name.value,"is_default":f.is_default.value,"acc_week_id":f.acc_week_id.value,"acc_holiday_group_id":f.acc_holiday_group_id.value};$.ajax({type:"POST",url:ip+"/v1/access-time-groups",dataType:'json',contentType:'application/json',data:JSON.stringify(access_time_group_info),success:function(data){if(data.error_code==1){alert("출입 시간 그룹을 추가하였습니다.");opener.refresh('access-time-group');window.close()}else{alert("출입 시간 그룹이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function acc_time_group_insert_info(){$.ajax({type:"GET",url:ip+"/v1/access-weeks",dataType:'json',contentType:'application/json',async:false,success:function(data){console.log(data);let totalRows=data.access_week_infos.length;for(let i=0;i<totalRows;i++){var str='<option value="'+data.access_week_infos[i].id+'">'+data.access_week_infos[i].name+'</option>';$("#acc_week_id").append(str)}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}});$.ajax({type:"GET",url:ip+"/v1/access-holiday-groups",dataType:'json',contentType:'application/json',async:false,success:function(data){console.log(data);let totalRows=data.access_holiday_group_infos.length;for(let i=0;i<totalRows;i++){var str='<option value="'+data.access_holiday_group_infos[i].id+'">'+data.access_holiday_group_infos[i].name+'</option>';$("#acc_holiday_group_id").append(str)}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_acc_time_group_update(){var f=document.acc_time_group_insert_form;if(f.access_time_group_name.value==""){alert("출입 시간 그룹 이름을 입력해주세요.");f.access_time_group_name.focus();return}var access_time_group_info={"name":f.access_time_group_name.value,"is_default":f.is_default.value,"acc_week_id":f.acc_week_id.value,"acc_holiday_group_id":f.acc_holiday_group_id.value};$.ajax({type:"PUT",url:ip+"/v1/access-time-groups/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(access_time_group_info),success:function(data){console.log(data);if(data.error_code==1){alert("출입 시간 그룹을 수정하였습니다.");opener.refresh('access-time-group');window.close()}else{alert("출입 시간 그룹이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function acc_time_group_update_info(){$.ajax({type:"GET",url:ip+"/v1/access-time-groups/"+id,dataType:'json',contentType:'application/json',async:false,success:function(data){$("#access_time_group_name").val(data.access_time_group_info.name);if(data.access_time_group_info.is_default){$("#is_default option[value='1']").attr("selected","selected")}else{$("#is_default option[value='0']").attr("selected","selected")}acc_week_id=data.access_time_group_info.acc_week_id;acc_holiday_group_id=data.access_time_group_info.acc_holiday_group_id},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}});$.ajax({type:"GET",url:ip+"/v1/access-weeks",dataType:'json',contentType:'application/json',async:false,success:function(data){let totalRows=data.access_week_infos.length;for(let i=0;i<totalRows;i++){var str='<option value="'+data.access_week_infos[i].id+'">'+data.access_week_infos[i].name+'</option>';$("#acc_week_id").append(str)}$("#acc_week_id option[value='"+acc_week_id+"']").attr("selected","selected")},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}});$.ajax({type:"GET",url:ip+"/v1/access-holiday-groups",dataType:'json',contentType:'application/json',async:false,success:function(data){let totalRows=data.access_holiday_group_infos.length;for(let i=0;i<totalRows;i++){var str='<option value="'+data.access_holiday_group_infos[i].id+'">'+data.access_holiday_group_infos[i].name+'</option>';$("#acc_holiday_group_id").append(str)}$("#acc_holiday_group_id option[value='"+acc_holiday_group_id+"']").attr("selected","selected")},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function acc_holiday_group_delete(){if(job=='1'){$.ajax({type:"DELETE",url:ip+"/v1/access-holiday-groups/"+id,dataType:'json',contentType:'application/json',success:function(data){if(data.error_code==1){alert("해당 휴일 그룹을 삭제하였습니다.");parent.refresh('access-holiday-group');window.close()}else{alert("삭제하지 못했습니다.");parent.refresh('access-holiday-group');window.close()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}else{var j=0;for(var i=0;i<choice.length;i++){$.ajax({type:"DELETE",url:ip+"/v1/access-holiday-groups/"+choice[i],dataType:'json',contentType:'application/json',async:false,success:function(data){if(data.error_code==1){j++}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}if(i==j){alert("선택된 휴일 그룹을 모두 삭제하였습니다.");parent.refresh('access-holiday-group');window.close()}else if(j>0){alert("선택된 휴일 그룹을 일부만 삭제하였습니다.");parent.refresh('access-holiday-group');window.close()}else{alert("선택된 휴일 그룹을 삭제하지 못했습니다.");parent.refresh('access-holiday-group');window.close()}}}function go_acc_holiday_group_insert(){var f=document.acc_holiday_group_form;if(f.access_holiday_group_name.value==""){alert("휴일 그룹 이름을 입력해주세요.");f.access_holiday_group_name.focus();return}var access_holiday_group_info={"name":f.access_holiday_group_name.value,"hol_cfg_id1":f.hol_cfg_id1.value,"hol_cfg_id2":f.hol_cfg_id2.value,"hol_cfg_id3":f.hol_cfg_id3.value,"hol_cfg_id4":f.hol_cfg_id4.value,"hol_cfg_id5":f.hol_cfg_id5.value,"hol_cfg_id6":f.hol_cfg_id6.value,"hol_cfg_id7":f.hol_cfg_id7.value,"hol_cfg_id8":f.hol_cfg_id8.value,"hol_cfg_id9":f.hol_cfg_id9.value,"hol_cfg_id10":f.hol_cfg_id10.value,"hol_cfg_id11":f.hol_cfg_id11.value,"hol_cfg_id12":f.hol_cfg_id12.value,"hol_cfg_id13":f.hol_cfg_id13.value,"hol_cfg_id14":f.hol_cfg_id14.value,"hol_cfg_id15":f.hol_cfg_id15.value,"hol_cfg_id16":f.hol_cfg_id16.value};$.ajax({type:"POST",url:ip+"/v1/access-holiday-groups",dataType:'json',contentType:'application/json',data:JSON.stringify(access_holiday_group_info),success:function(data){console.log(data);if(data.error_code==1){alert("휴일 그룹을 추가하였습니다.");opener.refresh('access-holiday-group');window.close()}else{alert("휴일 그룹이 중복되었습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function go_acc_holiday_group_update(){var f=document.acc_holiday_group_form;if(f.access_holiday_group_name.value==""){alert("출입 시간 그룹 이름을 입력해주세요.");f.access_holiday_group_name.focus();return}var access_holiday_group_info={"name":f.access_holiday_group_name.value,"hol_cfg_id1":f.hol_cfg_id1.value,"hol_cfg_id2":f.hol_cfg_id2.value,"hol_cfg_id3":f.hol_cfg_id3.value,"hol_cfg_id4":f.hol_cfg_id4.value,"hol_cfg_id5":f.hol_cfg_id5.value,"hol_cfg_id6":f.hol_cfg_id6.value,"hol_cfg_id7":f.hol_cfg_id7.value,"hol_cfg_id8":f.hol_cfg_id8.value,"hol_cfg_id9":f.hol_cfg_id9.value,"hol_cfg_id10":f.hol_cfg_id10.value,"hol_cfg_id11":f.hol_cfg_id11.value,"hol_cfg_id12":f.hol_cfg_id12.value,"hol_cfg_id13":f.hol_cfg_id13.value,"hol_cfg_id14":f.hol_cfg_id14.value,"hol_cfg_id15":f.hol_cfg_id15.value,"hol_cfg_id16":f.hol_cfg_id16.value};$.ajax({type:"PUT",url:ip+"/v1/access-holiday-groups/"+id,dataType:'json',contentType:'application/json',data:JSON.stringify(access_holiday_group_info),success:function(data){console.log(data);if(data.error_code==1){alert("휴일 그룹을 수정하였습니다.");opener.refresh('access-holiday-group');window.close()}else{alert("수정하지 못했습니다.")}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function acc_holiday_group_update(){$.ajax({type:"GET",url:ip+"/v1/access-holiday-groups/"+id,dataType:'json',contentType:'application/json',async:false,success:function(data){$("#access_holiday_group_name").val(data.access_holiday_group_info.name);$("#hol_cfg_id1").val(data.access_holiday_group_info.hol_cfg_id1);$("#hol_cfg_id2").val(data.access_holiday_group_info.hol_cfg_id2);$("#hol_cfg_id3").val(data.access_holiday_group_info.hol_cfg_id3);$("#hol_cfg_id4").val(data.access_holiday_group_info.hol_cfg_id4);$("#hol_cfg_id5").val(data.access_holiday_group_info.hol_cfg_id5);$("#hol_cfg_id6").val(data.access_holiday_group_info.hol_cfg_id6);$("#hol_cfg_id7").val(data.access_holiday_group_info.hol_cfg_id7);$("#hol_cfg_id8").val(data.access_holiday_group_info.hol_cfg_id8);$("#hol_cfg_id9").val(data.access_holiday_group_info.hol_cfg_id9);$("#hol_cfg_id10").val(data.access_holiday_group_info.hol_cfg_id10);$("#hol_cfg_id11").val(data.access_holiday_group_info.hol_cfg_id11);$("#hol_cfg_id12").val(data.access_holiday_group_info.hol_cfg_id12);$("#hol_cfg_id13").val(data.access_holiday_group_info.hol_cfg_id13);$("#hol_cfg_id14").val(data.access_holiday_group_info.hol_cfg_id14);$("#hol_cfg_id15").val(data.access_holiday_group_info.hol_cfg_id15);$("#hol_cfg_id16").val(data.access_holiday_group_info.hol_cfg_id16)},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function acc_week_update(){$.ajax({type:"GET",url:ip+"/v1/access-weeks/"+id,dataType:'json',contentType:'application/json',async:false,success:function(data){$("#access_week_name").val(data.access_week_info.name);if(data.access_week_info.mon_time_1!=0){let mon_time_1=data.access_week_info.mon_time_1;$("#mon_time_1_start").val(mon_time_1>>16);$("#mon_time_1_end").val(parseInt(String(mon_time_1.toString(2)).slice(-16),2));$("#mon_1").show()}if(data.access_week_info.mon_time_2!=0){let mon_time_2=data.access_week_info.mon_time_2;$("#mon_time_2_start").val(mon_time_2>>16);$("#mon_time_2_end").val(parseInt(String(mon_time_2.toString(2)).slice(-16),2));$("#mon_2").show()}if(data.access_week_info.mon_time_3!=0){let mon_time_3=data.access_week_info.mon_time_3;$("#mon_time_3_start").val(mon_time_3>>16);$("#mon_time_3_end").val(parseInt(String(mon_time_3.toString(2)).slice(-16),2));$("#mon_3").show()}if(data.access_week_info.mon_time_4!=0){let mon_time_4=data.access_week_info.mon_time_4;$("#mon_time_4_start").val(mon_time_4>>16);$("#mon_time_4_end").val(parseInt(String(mon_time_4.toString(2)).slice(-16),2));$("#mon_4").show()}if(data.access_week_info.tue_time_1!=0){let tue_time_1=data.access_week_info.tue_time_1;$("#tue_time_1_start").val(tue_time_1>>16);$("#tue_time_1_end").val(parseInt(String(tue_time_1.toString(2)).slice(-16),2));$("#tue_1").show()}if(data.access_week_info.tue_time_2!=0){let tue_time_2=data.access_week_info.tue_time_2;$("#tue_time_2_start").val(tue_time_2>>16);$("#tue_time_2_end").val(parseInt(String(tue_time_2.toString(2)).slice(-16),2));$("#tue_2").show()}if(data.access_week_info.tue_time_3!=0){let tue_time_3=data.access_week_info.tue_time_3;$("#tue_time_3_start").val(tue_time_3>>16);$("#tue_time_3_end").val(parseInt(String(tue_time_3.toString(2)).slice(-16),2));$("#tue_3").show()}if(data.access_week_info.tue_time_4!=0){let tue_time_4=data.access_week_info.tue_time_4;$("#tue_time_4_start").val(tue_time_4>>16);$("#tue_time_4_end").val(parseInt(String(tue_time_4.toString(2)).slice(-16),2));$("#tue_4").show()}if(data.access_week_info.wed_time_1!=0){let wed_time_1=data.access_week_info.wed_time_1;$("#wed_time_1_start").val(wed_time_1>>16);$("#wed_time_1_end").val(parseInt(String(wed_time_1.toString(2)).slice(-16),2));$("#wed_1").show()}if(data.access_week_info.wed_time_2!=0){let wed_time_2=data.access_week_info.wed_time_2;$("#wed_time_2_start").val(wed_time_2>>16);$("#wed_time_2_end").val(parseInt(String(wed_time_2.toString(2)).slice(-16),2));$("#wed_2").show()}if(data.access_week_info.wed_time_3!=0){let wed_time_3=data.access_week_info.wed_time_3;$("#wed_time_3_start").val(wed_time_3>>16);$("#wed_time_3_end").val(parseInt(String(wed_time_3.toString(2)).slice(-16),2));$("#wed_3").show()}if(data.access_week_info.wed_time_4!=0){let wed_time_4=data.access_week_info.wed_time_4;$("#wed_time_4_start").val(wed_time_4>>16);$("#wed_time_4_end").val(parseInt(String(wed_time_4.toString(2)).slice(-16),2));$("#wed_4").show()}if(data.access_week_info.thu_time_1!=0){let thu_time_1=data.access_week_info.thu_time_1;$("#thu_time_1_start").val(thu_time_1>>16);$("#thu_time_1_end").val(parseInt(String(thu_time_1.toString(2)).slice(-16),2));$("#thu_1").show()}if(data.access_week_info.thu_time_2!=0){let thu_time_2=data.access_week_info.thu_time_2;$("#thu_time_2_start").val(thu_time_2>>16);$("#thu_time_2_end").val(parseInt(String(thu_time_2.toString(2)).slice(-16),2));$("#thu_2").show()}if(data.access_week_info.thu_time_3!=0){let thu_time_3=data.access_week_info.thu_time_3;$("#thu_time_3_start").val(thu_time_3>>16);$("#thu_time_3_end").val(parseInt(String(thu_time_3.toString(2)).slice(-16),2));$("#thu_3").show()}if(data.access_week_info.thu_time_4!=0){let thu_time_4=data.access_week_info.thu_time_4;$("#thu_time_4_start").val(thu_time_4>>16);$("#thu_time_4_end").val(parseInt(String(thu_time_4.toString(2)).slice(-16),2));$("#thu_4").show()}if(data.access_week_info.fri_time_1!=0){let fri_time_1=data.access_week_info.fri_time_1;$("#fri_time_1_start").val(fri_time_1>>16);$("#fri_time_1_end").val(parseInt(String(fri_time_1.toString(2)).slice(-16),2));$("#fri_1").show()}if(data.access_week_info.fri_time_2!=0){let fri_time_2=data.access_week_info.fri_time_2;$("#fri_time_2_start").val(fri_time_2>>16);$("#fri_time_2_end").val(parseInt(String(fri_time_2.toString(2)).slice(-16),2));$("#fri_2").show()}if(data.access_week_info.fri_time_3!=0){let fri_time_3=data.access_week_info.fri_time_3;$("#fri_time_3_start").val(fri_time_3>>16);$("#fri_time_3_end").val(parseInt(String(fri_time_3.toString(2)).slice(-16),2));$("#fri_3").show()}if(data.access_week_info.fri_time_4!=0){let fri_time_4=data.access_week_info.fri_time_4;$("#fri_time_4_start").val(fri_time_4>>16);$("#fri_time_4_end").val(parseInt(String(fri_time_4.toString(2)).slice(-16),2));$("#fri_4").show()}if(data.access_week_info.sat_time_1!=0){let sat_time_1=data.access_week_info.sat_time_1;$("#sat_time_1_start").val(sat_time_1>>16);$("#sat_time_1_end").val(parseInt(String(sat_time_1.toString(2)).slice(-16),2));$("#sat_1").show()}if(data.access_week_info.sat_time_2!=0){let sat_time_2=data.access_week_info.sat_time_2;$("#sat_time_2_start").val(sat_time_2>>16);$("#sat_time_2_end").val(parseInt(String(sat_time_2.toString(2)).slice(-16),2));$("#sat_2").show()}if(data.access_week_info.sat_time_3!=0){let sat_time_3=data.access_week_info.sat_time_3;$("#sat_time_3_start").val(sat_time_3>>16);$("#sat_time_3_end").val(parseInt(String(sat_time_3.toString(2)).slice(-16),2));$("#sat_3").show()}if(data.access_week_info.sat_time_4!=0){let sat_time_4=data.access_week_info.sat_time_4;$("#sat_time_4_start").val(sat_time_4>>16);$("#sat_time_4_end").val(parseInt(String(sat_time_4.toString(2)).slice(-16),2));$("#sat_4").show()}if(data.access_week_info.sun_time_1!=0){let sun_time_1=data.access_week_info.sun_time_1;$("#sun_time_1_start").val(sun_time_1>>16);$("#sun_time_1_end").val(parseInt(String(sun_time_1.toString(2)).slice(-16),2));$("#sun_1").show()}if(data.access_week_info.sun_time_2!=0){let sun_time_2=data.access_week_info.sun_time_2;$("#sun_time_2_start").val(sun_time_2>>16);$("#sun_time_2_end").val(parseInt(String(sun_time_2.toString(2)).slice(-16),2));$("#sun_2").show()}if(data.access_week_info.sun_time_3!=0){let sun_time_3=data.access_week_info.sun_time_3;$("#sun_time_3_start").val(sun_time_3>>16);$("#sun_time_3_end").val(parseInt(String(sun_time_3.toString(2)).slice(-16),2));$("#sun_3").show()}if(data.access_week_info.sun_time_4!=0){let sun_time_4=data.access_week_info.sun_time_4;$("#sun_time_4_start").val(sun_time_4>>16);$("#sun_time_4_end").val(parseInt(String(sun_time_4.toString(2)).slice(-16),2));$("#sun_4").show()}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function device_scan(){var device_scan={"scan_option":{"scan_type":0,"timeout_sec":10000,"scan_run":0},"reply_info":{"reply_to":"/reply/news/aa","reply_method":"MQTT","reply_msg":"DeviceScan"}};$.ajax({type:"GET",url:ip+"/v1/devices-scan",dataType:'json',contentType:'application/json',data:JSON.stringify(device_scan),success:function(data){console.log(data);if(data.error_code==1){let str="";let searchRows=0;let totalRows=data.device_count;let startNum=(search_start_num==0)?(page_no-1)*page_count:search_start_num;let lastNum=(startNum+page_count>totalRows)?totalRows:startNum+page_count;$("#device-scan-content").empty();for(let i=startNum;i<lastNum;i++){var deviceGatway=false,deviceIp=false,deviceIsActive=false,deviceMacAddr=false,devicePort=false,deviceSerialNo=false,deviceSerialNoEx=false,deviceSubnet=false;if(!noSearch){deviceGatway=String(data.device_infos[i].gateway).includes(searchStr);deviceIp=String(data.device_infos[i].ip).includes(searchStr);deviceIsActive=String(data.device_infos[i].is_active).includes(searchStr);deviceMacAddr=String(data.device_infos[i].mac_addr.replace(/-/g,"")).includes(searchStr);devicePort=String(data.device_infos[i].port).includes(searchStr);deviceSerialNo=String(data.device_infos[i].serial_no).includes(searchStr);deviceSerialNoEx=String(data.device_infos[i].serial_no_ex).includes(searchStr);deviceSubnet=String(data.device_infos[i].subnet).includes(searchStr)}if(deviceGatway||deviceIp||deviceIsActive||deviceMacAddr||devicePort||deviceSerialNo||deviceSerialNoEx||deviceSubnet||noSearch){str+='<tr class="">';str+='<td class="py-2"><input type="checkbox" name="choice" value="'+data.device_infos[i].serial_no+'"></td>';str+=(noSearch)?'<td class="py-2">'+(i+1)+'</td>':'<td class="py-2">'+(searchRows+((page_no-1)*page_count)+1)+'</td>';str+='<td class="py-2">'+data.device_infos[i].serial_no.toUpperCase()+'</td>';str+='<td class="align-middle py-2">'+(data.device_infos[i].mac_addr.replace(/-/g,"")).toUpperCase()+'</td>';str+='<td class="py-2">'+data.device_infos[i].serial_no_ex.toUpperCase()+'</td>';str+='<td class="py-2">'+data.device_infos[i].ip+'</td>';str+='</tr>';if(!noSearch){searchRows++;search_start_num=i+1;if(lastNum<totalRows)lastNum=lastNum+1;if(searchRows==page_count)lastNum=0}}}$("#device-scan-content").append(str);document.search_form.search_start_num.value=search_start_num;if(!noSearch){searchRows=0;for(let i=0;i<data.device_infos.length;i++){deviceGatway=String(data.device_infos[i].gateway).includes(searchStr);deviceIp=String(data.device_infos[i].ip).includes(searchStr);deviceIsActive=String(data.device_infos[i].is_active).includes(searchStr);deviceMacAddr=String(data.device_infos[i].mac_addr.replace(/-/g,"")).includes(searchStr);devicePort=String(data.device_infos[i].port).includes(searchStr);deviceSerialNo=String(data.device_infos[i].serial_no).includes(searchStr);deviceSerialNoEx=String(data.device_infos[i].serial_no_ex).includes(searchStr);deviceSubnet=String(data.device_infos[i].subnet).includes(searchStr);if(deviceGatway||deviceIp||deviceIsActive||deviceMacAddr||devicePort||deviceSerialNo||deviceSerialNoEx||deviceSubnet||noSearch){searchRows++}}totalRows=searchRows}totalPage=(totalRows==0)?1:Math.ceil(totalRows/page_count);let strPage="";for(let i=1;i<=totalPage;i++){let active=(i==page_no)?"active":"";strPage+='<li class="page-item d-none d-md-block">';strPage+='<a id="datatablePagination'+i+'" class="page-link '+active+'" onclick="javascript: goPage('+i+',\'device-scan\');" href="#" data-dt-page-to="'+i+'">'+i+'</a>';strPage+='</li>'}$("#total-row").html("총 "+totalRows+"개");$("#page-next").before(strPage)}else{console.log("4-2-7. /v1/devices-scan, devices-scan.php(err)");let str="";$("#device-scan-content").empty();str+='<tr><td style="border: 0;"></td></tr>';str+='<tr><td style="border: 0;"></td></tr>';str+='<tr><td style="border: 0;"></td></tr>';str+='<tr><td style="border: 0;"></td></tr>';str+='<tr><td style="border: 0;"></td></tr>';str+='<tr class="">';str+='<td class="py-2" style="border: 0;">';str+='<div>';str+='<span >Device를 찾지 못했습니다.</span>';str+='</div>';str+='</td>';str+='</tr>';$("#device-scan-content").append(str)}},error:function(jqXHR,textStatus,errorThrown){console.log(jqXHR);console.log("error")}})}function changeCount(strUrl){location.href=strUrl+".php?page_count="+$("#page_count_change").val()+"&search_str="+searchStr+"&search_start_num="+search_start_num}function goPage(pageNum,strUrl){if(pageNum=="search_page"){pageNum=$("#search_page").val()}if(pageNum<1||totalPage<pageNum||pageNum==page_no||totalPage==undefined){return false}location.href=strUrl+".php?page_no="+pageNum+"&search_str="+searchStr+"&search_start_num="+search_start_num+"&page_count="+$("#page_count_change").val()}function goSearch(strUrl){var f=document.search_form;f.page_count.value=$("#page_count_change").val();f.action=strUrl+".php";f.submit()}function goInsert(strUrl){window.open(strUrl+"-insert.php",strUrl+"-insert","height=700px, width=1000px")}function goUpdate(id,strUrl){window.open("",strUrl+"-update","height=700px, width=1000px");var f=document.contents_show_form;f.id.value=id;f.method="POST";f.target=strUrl+"-update";f.action=strUrl+"-update.php";f.submit()}function goDelete(id,strUrl){if(id=="more"){if(confirm("삭제하시겠습니까?")){var f=document.contents_show_form;f.method="POST";f.target="hiddenfrm";f.action=strUrl+"-delete.php";f.submit()}}else{if(confirm("삭제하시겠습니까?")){var f=document.contents_show_form;f.id.value=id;f.job.value="1";f.method="POST";f.target="hiddenfrm";f.action=strUrl+"-delete.php";f.submit()}}}function refresh(strUrl){location.href=strUrl+".php"}function displayOnOff(){if($('#sub-sidebar').css('display')==='none'){$('#sub-sidebar').show();$("#type-content").addClass("display-content");$(".sub-sidebar-btn").text("◀")}else{$('#sub-sidebar').hide();$("#type-content").removeClass("display-content");$(".sub-sidebar-btn").text("▶")}}function addTab(link){var rel=$(link).attr("rel");var child=$(link).attr("child");if(rel=="dashboard"){$("iframe").hide();$("#main_index").show();$("#tabs li").removeClass("current");return}if($("#"+rel).length!=0){sideMenuClick(rel)}else{$("#tabs li").removeClass("current");$("iframe").hide();$("#tabList").append('<div class="list-group-item list-group-item-action" id="'+rel+'" child="'+child+'" onclick="javascript:tab(this);"><p class="mb-0">'+$(link).text()+'</p><a class="list-group-item-closer text-muted" onclick="javascript:remove(this);" href="#"><i class="gd-close"></i></a></div>');$("#tabs>#home").after("<li class='current'><a class='tab' id='"+rel+"' child='"+child+"' onclick='javascript:tab(this);' href='#'><span class='side-nav-fadeout-on-closed media-body'>"+$(link).text()+"</span></a><a href='#' onclick='javascript:remove(this);' class='remove'>x</a></li>");$("#main_content").append('<iframe class="tab_content" id="'+rel+'_content" src="'+$(link).attr("title")+'" style="width: 100%; border: 0; position: relative; top: -3rem;"></iframe>');$("#"+$(link).attr("rel")+"_content").show()}}function sideMenuClick(contentname){$("iframe").hide();$("#tabs li").removeClass("current");$("#"+contentname+"_content").show();$("#"+contentname).parent().addClass("current")}var cnt=0;function tab(obj){if(cnt>0){cnt=0;return}var contentname=$(obj).attr("id")+"_content";$("iframe").hide();$("#tabs li").removeClass("current");$("#"+contentname).show();$(obj).parent().addClass("current");$('#'+$(obj).attr('child')+'_parent').trigger('click');$('a[rel="'+$(obj).attr("id")+'"]').trigger('click')}function remove(obj){var count=0;var tabid=$(obj).parent().find(".tab").attr("id");if(tabid==undefined){tabid=$(obj).parent().attr("id");count=1;cnt++}var contentname=tabid+"_content";$("#"+contentname).remove();$(obj).parent().remove();if(count==0){$("#tabList #"+tabid).remove()}else{$("#tabs #"+tabid).parent().remove()}if($("#tabs li.current").length==0&&$("#tabs li").length>1){var firsttab=$("#tabs li:nth-child(2)");firsttab.addClass("current");var firsttabid=$(firsttab).find("a.tab").attr("id");var firsttabchild=$(firsttab).find("a.tab").attr("child");$("#"+firsttabchild+"_parent").trigger("click");$("a[rel='"+firsttabid+"']").trigger("click")}else if($("#tabs li").length==1){goDashboard()}}function clearAllTab(){$("#tabList>div").remove();$("#tabs>li").not("#home").remove();$("#main_content>iframe").not("#main_index").remove();goDashboard()}function goDashboard(){$("#sideNav a.dashboardTab").trigger("click")}function day_add(day){if(day=="mon"){if($("#mon_1").css("display")=="none"){$("#mon_1").show()}else if($("#mon_2").css("display")=="none"){$("#mon_2").show()}else if($("#mon_3").css("display")=="none"){$("#mon_3").show()}else if($("#mon_4").css("display")=="none"){$("#mon_4").show()}else{alert("요일당 최대 4개까지 생성가능합니다.");return}}else if(day=="tue"){if($("#tue_1").css("display")=="none"){$("#tue_1").show()}else if($("#tue_2").css("display")=="none"){$("#tue_2").show()}else if($("#tue_3").css("display")=="none"){$("#tue_3").show()}else if($("#tue_4").css("display")=="none"){$("#tue_4").show()}else{alert("요일당 최대 4개까지 생성가능합니다.");return}}else if(day=="wed"){if($("#wed_1").css("display")=="none"){$("#wed_1").show()}else if($("#wed_2").css("display")=="none"){$("#wed_2").show()}else if($("#wed_3").css("display")=="none"){$("#wed_3").show()}else if($("#wed_4").css("display")=="none"){$("#wed_4").show()}else{alert("요일당 최대 4개까지 생성가능합니다.");return}}else if(day=="thu"){if($("#thu_1").css("display")=="none"){$("#thu_1").show()}else if($("#thu_2").css("display")=="none"){$("#thu_2").show()}else if($("#thu_3").css("display")=="none"){$("#thu_3").show()}else if($("#thu_4").css("display")=="none"){$("#thu_4").show()}else{alert("요일당 최대 4개까지 생성가능합니다.");return}}else if(day=="fri"){if($("#fri_1").css("display")=="none"){$("#fri_1").show()}else if($("#fri_2").css("display")=="none"){$("#fri_2").show()}else if($("#fri_3").css("display")=="none"){$("#fri_3").show()}else if($("#fri_4").css("display")=="none"){$("#fri_4").show()}else{alert("요일당 최대 4개까지 생성가능합니다.");return}}else if(day=="sat"){if($("#sat_1").css("display")=="none"){$("#sat_1").show()}else if($("#sat_2").css("display")=="none"){$("#sat_2").show()}else if($("#sat_3").css("display")=="none"){$("#sat_3").show()}else if($("#sat_4").css("display")=="none"){$("#sat_4").show()}else{alert("요일당 최대 4개까지 생성가능합니다.");return}}else if(day=="sun"){if($("#sun_1").css("display")=="none"){$("#sun_1").show()}else if($("#sun_2").css("display")=="none"){$("#sun_2").show()}else if($("#sun_3").css("display")=="none"){$("#sun_3").show()}else if($("#sun_4").css("display")=="none"){$("#sun_4").show()}else{alert("요일당 최대 4개까지 생성가능합니다.");return}}}